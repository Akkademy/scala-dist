<!-- $Id: $ -->

<processing>

  <logfiledir>$INSTALL_PATH/Uninstaller</logfiledir>

  <!-- unix jobs -->

  <job name="Create symbolic links for Scala commands">
    <description>Create symbolic links</description>
    <os family="unix"/>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/sbaz</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/scala</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/scalac</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/scaladoc</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/scalaint</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/bin/.symlink">
      <arg>../share/@PREFIX@/bin/scalap</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-devel/scala/api</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-devel/scala/examples</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-devel/scala/LICENSE</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-devel/scala/README</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-documentation/ScalaByExample.pdf</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-documentation/ScalaReference.pdf</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/doc/@PREFIX@/.symlink">
      <arg>../../@PREFIX@/doc/scala-documentation/ScalaTutorial.pdf</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/man/man1/.symlink">
      <arg>../../@PREFIX@/man/man1/scala.1</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/man/man1/.symlink">
      <arg>../../@PREFIX@/man/man1/scalac.1</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/man/man1/.symlink">
      <arg>../../@PREFIX@/man/man1/scaladoc.1</arg>
    </executefile>
    <executefile name="$INSTALL_PATH/share/man/man1/.symlink">
      <arg>../../@PREFIX@/man/man1/scalaint.1</arg>
    </executefile>
  </job>
  <job name="Remote helper script">
    <description>Clean up</description>
    <os family="unix"/>
    <executefile name="/bin/rm">
      <arg>-f</arg>
      <arg>$INSTALL_PATH/bin/.symlink</arg>
      <arg>$INSTALL_PATH/share/doc/@PREFIX@/.symlink</arg>
      <arg>$INSTALL_PATH/share/man/man1/.symlink</arg>
    </executefile>
  </job>

  <!-- windows jobs -->

  <job name="Update the Windows registry">
    <description>Add the SCALA_HOME variable to the user environment</description>
    <os family="windows"/>
    <executefile name="$JAVA_HOME\bin\java">
      <arg>-Djava.library.path=$INSTALL_PATH\Uninstaller</arg>
      <arg>-cp</arg>
      <arg>$INSTALL_PATH\Uninstaller\registry.jar;$INSTALL_PATH\Uninstaller\setenv.jar</arg>
      <arg>Main</arg>
      <arg>@VERSION@</arg>
      <arg>$INSTALL_PATH</arg>
    </executefile>
  </job>

</processing>
