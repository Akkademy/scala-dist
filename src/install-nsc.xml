<?xml version=1.0" encoding="UTF-8" standalone="yes"?>
<!-- $Id: $ -->

<installation version="1.0">

  <info>
    <appname>Scala</appname>
    <appversion>@VERSION@</appversion>
    <url>@URL@</url>
    <javaversion>1.5</javaversion>
  </info>

  <native type="izpack" name="ShellLink.dll"/>

  <guiprefs resizable="yes" height="400" width="600">
    <laf name="metouia">
      <os family="unix"/>
    </laf>
    <laf name="looks">
      <os family="windows"/>
      <param name="variant" value="extwin"/>
    </laf>
  </guiprefs>

  <locale>
    <langpack iso3="eng"/>
    <langpack iso3="fra"/>
    <langpack iso3="deu"/>
  </locale>

  <resources>
    <res id="installer.langsel.img"        src="@RESOURCEDIR@/images/Splash.png"/>
    <res id="Installer.image"              src="@RESOURCEDIR@/images/install.png"/>
    <res id="HTMLInfoPanel.info_eng"       src="@RESOURCEDIR@/locales/INFO_en.html"/>
    <res id="HTMLInfoPanel.info_fra"       src="@RESOURCEDIR@/locales/INFO_fr.html"/>
    <res id="HTMLInfoPanel.info_deu"       src="@RESOURCEDIR@/locales/INFO_de.html"/>
    <res id="HTMLLicencePanel.licence_eng" src="@RESOURCEDIR@/locales/LICENSE_en.html"/>
    <res id="HTMLLicencePanel.licence_fra" src="@RESOURCEDIR@/locales/LICENSE_fr.html"/>
    <res id="HTMLLicencePanel.licence_deu" src="@RESOURCEDIR@/locales/LICENSE_de.html"/>
    <res id="TargetPanel.dir.macosx"       src="@RESOURCEDIR@/targets/path_macosx.txt"/>
    <res id="TargetPanel.dir.unix"         src="@RESOURCEDIR@/targets/path_unix.txt"/>
    <res id="ProcessPanel.Spec.xml"        src="@RESOURCEDIR@/izpack_process.xml"/>
    <res id="shortcutSpec.xml"             src="@RESOURCEDIR@/izpack_shortcut.xml"/>
  </resources>

  <panels>
    <panel classname="HelloPanel"/>
    <panel classname="HTMLInfoPanel"/>
    <panel classname="HTMLLicencePanel"/>
    <panel classname="TargetPanel"/>
    <panel classname="InstallPanel"/>
    <panel classname="ProcessPanel"/>
    <panel classname="ShortcutPanel"/>
    <panel classname="SimpleFinishPanel"/>
  </panels>

  <packs>
    <pack name="Package Installation" required="yes">
      <description>Installing the Scala software.</description>

      <!-- unix -->
      <fileset
        os="unix"
        dir="@UNIXDIR@"
        targetdir="$INSTALL_PATH"
        excludes="bin/**,share/doc/**,share/man/**"
      />
      <!-- scripts are executable files -->
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/sbaz"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/scala"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/scalac"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/scaladoc"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/scalaint"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/@PREFIX@/bin/scalap"/>
      <!-- The <singlefile> tag allows the file -->
      <!-- to be renamed (unlike <file>).       -->
      <singlefile os="unix"
                  target="$INSTALL_PATH/bin/.symlink"
                  src="@RESOURCEDIR@/bin/symlink.tmpl"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/bin/.symlink"/>
      <singlefile os="unix"
                  target="$INSTALL_PATH/share/doc/@PREFIX@/.symlink"
                  src="@RESOURCEDIR@/bin/symlink.tmpl"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/doc/@PREFIX@/.symlink"/>
      <singlefile os="unix"
                  target="$INSTALL_PATH/share/man/man1/.symlink"
                  src="@RESOURCEDIR@/bin/symlink.tmpl"/>
      <executable os="unix"
                  targetfile="$INSTALL_PATH/share/man/man1/.symlink"/>
      <!-- windows -->

      <!-- we share common resources doc/*.pdf, lib/** and meta/** -->
      <fileset os="windows"
               dir="@UNIXDIR@/share/@PREFIX@"
               targetdir="$INSTALL_PATH"
               includes="doc/scala-documentation/*.pdf"/>
      <fileset os="windows"
               dir="@UNIXDIR@/share/@PREFIX@"
               targetdir="$INSTALL_PATH"
               includes="lib/**"/>
      <fileset os="windows"
               dir="@UNIXDIR@/share/@PREFIX@"
               targetdir="$INSTALL_PATH"
               includes="meta/**"/>
      <!-- win-specific resources doc/api, doc/examples, .. -->
      <fileset os="windows"
               dir="@WINDIR@"
               targetdir="$INSTALL_PATH"
               includes="bin/**,doc/sbaz/**,doc/scala-devel/**,misc/**,src.zip"/>
      <fileset os="windows"
               dir="@RESOURCEDIR@/registry/bin"
               targetdir="$INSTALL_PATH/Uninstaller"/>
      <executable os="windows" stage="uninstall"
                  targetfile="$JAVA_HOME\bin\java">
        <arg>-Djava.library.path=$INSTALL_PATH\Uninstaller</arg>
        <arg>-cp</arg>
        <arg>$INSTALL_PATH\Uninstaller\registry.jar;$INSTALL_PATH\Uninstaller\setenv.jar</arg>
        <arg>Main</arg>
        <arg>@VERSION@</arg>
      </executable>
    </pack>
  </packs>

</installation>
